(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05b80535"],{"169a":function(t,e,n){"use strict";var a=n("5530"),i=n("2909"),o=n("ade3"),r=(n("a9e3"),n("498a"),n("caad"),n("2532"),n("7db0"),n("368e"),n("480e")),s=n("4ad4"),c=n("b848"),l=n("75eb"),d=n("e707"),u=n("e4d3"),v=n("21be"),h=n("f2e7"),f=n("a293"),w=n("58df"),g=n("d9bd"),p=n("80d2"),k=Object(w["a"])(s["a"],c["a"],l["a"],d["a"],u["a"],v["a"],h["a"]);e["a"]=k.extend({name:"v-dialog",directives:{ClickOutside:f["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(o["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(o["a"])(t,"v-dialog--active",this.isActive),Object(o["a"])(t,"v-dialog--persistent",this.persistent),Object(o["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(o["a"])(t,"v-dialog--scrollable",this.scrollable),Object(o["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(g["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):d["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===p["w"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=Object(i["a"])(n).find((function(t){return!t.hasAttribute("disabled")}));a&&a.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(r["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(a["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(p["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(p["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(t,e,n){},"68c8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Staking")},i=[],o=n("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tw-relative w-full tw-flex tw-justify-end tw-items-end background",class:{"justify-center":t.$vuetify.breakpoint.xs,"justify-end":!t.$vuetify.breakpoint.xs}},[a("div",{staticClass:"tw-absolute tw-top-4 tw-left-4 text-h5 accent--text"},[t._v(" "+t._s(t.$t("NavStaking"))+" ")]),a("div",{staticClass:"tw-mt-16 tw-flex tw-flex-col tw-md:flex-row mb-4 tw-w-full"},[a("v-card",{staticClass:"rounded-lg pa-4 tw-flex tw-flex-col ma-2 tw-justify-center tw-text-center",attrs:{outlined:""}},[a("div",{staticClass:"\n          tw-w-full\n          text-h2\n          accent--text\n          font-weight-thin\n          pa-2\n          tw-truncate\n          tw-overflow-hidden tw-overflow-ellipsis\n        "},[t._v(" "+t._s(parseFloat(t.totalStaked).toFixed(2))+" ")]),a("div",[t._v(" "+t._s(t.$t("StakingTotalStaked"))+" ")])]),a("v-card",{staticClass:"d-flex align-center rounded-lg ma-2",class:{"tw-flex-col":t.$vuetify.breakpoint.xs,"tw-flex-row tw-justify-end tw-sm-pr-0 tw-md-pr-8":!t.$vuetify.breakpoint.xs},attrs:{outlined:""}},[a("div",{staticClass:"\n          tw-w-full\n          text-h2\n          accent--text\n          font-weight-thin\n          py-2\n          px-4\n          tw-text-center\n          tw-truncate\n        "},[t._v(" "+t._s(t.getProfit)+" ")]),a("div",{staticClass:"tw-flex tw-flex-col align-center text-center pa-2"},[a("v-btn",{staticClass:"pa-2",attrs:{"min-width":"280",width:"100%",color:"primary",disabled:this.startBlock+5256e3>this.blockNumber},on:{click:t.withdrawVNLAProfit}},[t._v(" "+t._s(t.$t("StakingHarvest"))+" ")]),a("div",{staticClass:"pt-2"},[t._v(" "+t._s(t.$t("StakingCountdown",{day:t.countdown.days,hour:t.countdown.hours,minute:t.countdown.minutes,second:t.countdown.seconds,months:t.countdown.months}))+" ")])],1)])],1)]),a("div",{staticClass:"container mt-4 pa-4"},[a("v-row",{staticClass:"w-full"},[a("v-col",{attrs:{xs:"1",sm:"3"}},[a("v-card",{staticClass:"\n            tw-relative\n            w-12\n            d-flex\n            flex-column\n            tw-space-y-4\n            justify-center\n            align-center\n            px-4\n            py-4\n          ",attrs:{outlined:"","min-width":"120"}},[a("div",{staticClass:"\n              tw-absolute tw-top-0 tw-right-0 tw-bg-green-200 tw-bg-opacity-30\n              px-3\n              tw-rounded-bl-lg tw-rounded-tl-none tw-text-sm\n            "},[a("span",{staticClass:"tw-text-green-300 tw-opacity-60"},[t._v("APY")]),a("span",{staticClass:"ml-2 tw-text-green-400 tw-font-bold"},[t._v("25%")])]),a("v-img",{staticClass:"rounded mt-8",attrs:{alt:"vnla_logo",src:n("1f86"),width:"80",height:"80",contain:""}}),a("div",{staticClass:"\n              mt-4\n              tw-font-mono tw-text-3xl\n              accent--text\n              tw-w-full\n              tw-truncate\n              tw-overflow-ellipsis\n              tw-text-center\n            "},[t._v(" "+t._s(t.getStaked)+" ")]),a("div",[t._v(t._s(t.$t("StakingCardTitle",{token:"VNLA"})))]),a("div",[0===parseFloat(t.getStaked)?a("div",[a("v-btn",{attrs:{outlined:"",color:"accent",disabled:t.startBlock>t.blockNumber},on:{click:function(e){return t.stake("VNLA")}}},[t._v(t._s(t.$t("StakingStake"))+" ")])],1):t._e(),parseFloat(t.getStaked)>0?a("div",[a("v-btn",{staticClass:"mr-2",attrs:{outlined:"",color:"accent"},on:{click:function(e){return t.withdraw("VNLA")}}},[t._v(" "+t._s(t.$t("StakingWithdraw"))+" ")]),a("v-btn",{attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(e){return t.stake("VNLA")}}},[a("v-icon",[t._v("mdi-plus")])],1)],1):t._e()])],1)],1)],1),a("v-card",{staticClass:"mt-4 tw-text-xs tw-overflow-auto tw-h-48",attrs:{outlined:"",color:"background"}},[a("v-card-text",[a("div",[t._v(t._s(t.$t("StakingNotification1")))]),a("div",{staticClass:"mt-2"},[t._v(t._s(t.$t("StakingNotification2")))]),a("div",{staticClass:"mt-2"},[t._v(t._s(t.$t("StakingNotification3")))]),a("div",[t._v(t._s(t.$t("StakingNotification4")))]),a("div",[t._v(t._s(t.$t("StakingNotification5")))]),a("div",[t._v(t._s(t.$t("StakingNotification6")))]),a("div",[t._v(t._s(t.$t("StakingNotification7")))]),a("div",{staticClass:"mt-2"},[t._v(t._s(t.$t("StakingNotification8")))])])],1)],1),a("Dialog",{attrs:{behavior:t.behavior,token:t.token},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)},s=[],c=n("1da1"),l=n("5530"),d=(n("96cf"),n("2f62")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:t.working,fullscreen:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs,"hide-overlay":"",transition:t.$vuetify.breakpoint.sm||t.$vuetify.breakpoint.xs?"dialog-bottom-transition":"dialog-transition","max-width":"700"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},["deposit"===t.behavior?n("span",[t._v(t._s(t.$t("StakingDialogDepositTitle",{token:t.token})))]):t._e(),"withdraw"===t.behavior?n("span",[t._v(t._s(t.$t("StakingDialogWithdrawTitle",{token:t.token})))]):t._e()]),n("v-divider"),n("v-card-text",{staticClass:"mt-4"},[n("div",{staticClass:"d-flex justify-end"},[n("span",[t._v(t._s(t.$t("StakingDialogBalance"))+" "+t._s("withdraw"===t.behavior?t.getStaked:t.balance)+" "+t._s(t.token))]),n("v-btn",{attrs:{icon:"","x-small":"",color:"primary"},on:{click:t.loadDialog}},[n("v-icon",[t._v("mdi-refresh")])],1)],1),n("v-text-field",{attrs:{label:t.$t("StakingAmount"),rules:t.rules,loading:t.working,disabled:t.working,"hide-details":"auto"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},[n("template",{slot:"append"},[n("v-btn",{attrs:{plain:"",color:"primary"},on:{click:function(e){"withdraw"===t.behavior?t.amount=t.getStaked:t.amount=t.balance}}},[t._v(t._s(t.$t("StakingMax"))+" ")])],1)],2)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"grey lighten-1",text:"",disabled:t.working},on:{click:function(e){t.show=!1}}},[t._v(" "+t._s(t.$t("StakingCancel"))+" ")]),t.needApprove?n("v-btn",{attrs:{color:"primary darken-1",text:"",disabled:t.working},on:{click:t.getApprove}},[t._v(t._s(t.$t("StakingApprove"))+" ")]):n("v-btn",{attrs:{color:"primary darken-1",text:"",disabled:t.working},on:{click:t.exec}},["deposit"===t.behavior?n("span",[t._v(" "+t._s(t.$t("StakingStake"))+" ")]):t._e(),"withdraw"===t.behavior?n("span",[t._v(" "+t._s(t.$t("StakingWithdraw"))+" ")]):t._e()])],1)],1)],1),n("v-snackbar",{attrs:{"multi-line":""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){t.errorNotification=!1}}},"v-btn",a,!1),[t._v(" "+t._s(t.$t("StakingClose"))+" ")])]}}]),model:{value:t.errorNotification,callback:function(e){t.errorNotification=e},expression:"errorNotification"}},[t._v(" "+t._s(t.errorMessage)+" ")])],1)},v=[],h=(n("466d"),n("ac1f"),n("d3b7"),n("25f0"),n("8f12")),f=n("0cdc"),w=n("e87b"),g=o["a"].extend({name:"StakingDialog",data:function(){return{show:!1,working:!1,balance:"0",tokenAddress:"",amount:"",needApprove:!1,errorNotification:!1,errorMessage:"",rules:[function(t){return!t||(!(0!==parseFloat(t)&&""!==t&&!t.match(h["a"].positiveFloat)&&!t.match(h["a"].positiveInteger))||f["a"].t("StakingInputErr"))}]}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["e"])("wallet",["chainId","accounts"])),Object(d["e"])("staking",["decimal","staked"])),Object(d["c"])("staking",["getStaked"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("erc20",["balanceOf","convertNumber","allowance","approve"])),Object(d["b"])("staking",["stakeVNLA","withdrawVNLA","queryVNLAProfit","queryVNLABalance"])),{},{loadDialog:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.token){e.next=14;break}if(t.tokenAddress=h["a"][t.chainId][t.token].address,console.log("Dialog Load",t.tokenAddress,t.decimal),"deposit"!==t.behavior){e.next=10;break}return e.next=6,t.balanceOf({contractAddress:t.tokenAddress,accountAddress:t.accounts[0]});case 6:return n=e.sent.toString(),e.next=9,t.convertNumber({value:n,decimals:t.decimal});case 9:t.balance=e.sent;case 10:if("withdraw"!==t.behavior){e.next=14;break}return e.next=13,t.queryVNLABalance();case 13:t.balance=t.staked;case 14:case"end":return e.stop()}}),e)})))()},exec:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("deposit"!==t.behavior){e.next=17;break}return e.prev=1,e.next=4,t.stakeVNLA(t.amount);case 4:return n=e.sent,t.working=!0,e.next=8,n.wait();case 8:t.working=!1,t.show=!1,e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](1),t.working=!1,e.next=17,t.popupErrNotification(e.t0.data.message);case 17:if("withdraw"!==t.behavior){e.next=34;break}return e.prev=18,e.next=21,t.withdrawVNLA(t.amount);case 21:return a=e.sent,t.working=!0,e.next=25,a.wait();case 25:t.working=!1,t.show=!1,e.next=34;break;case 29:return e.prev=29,e.t1=e["catch"](18),t.working=!1,e.next=34,t.popupErrNotification(e.t1.data.message);case 34:t.queryVNLAProfit(),t.queryVNLABalance();case 36:case"end":return e.stop()}}),e,null,[[1,12],[18,29]])})))()},isAllowanceEnough:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.token){e.next=15;break}return console.log("query allowance"),e.t0=parseFloat,e.t1=w["g"],e.next=7,t.allowance({contractAddress:h["a"][t.chainId][t.token].address,ownerAddress:t.accounts[0],spenderAddress:h["a"]["staking"]["address"]});case 7:e.t2=e.sent.toString(),e.t3=t.decimal,e.t4=(0,e.t1)(e.t2,e.t3),n=(0,e.t0)(e.t4),a=parseFloat(t.balance),console.log("allowance: ",n),console.log("balance: ",a),n<a&&(t.needApprove=!0);case 15:e.next=21;break;case 17:e.prev=17,e.t5=e["catch"](0),t.popupErrNotification(e.t5.data.message),console.error(e.t5);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))()},getApprove:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.approve({contractAddress:h["a"][t.chainId][t.token].address,spenderAddress:h["a"]["staking"]["address"],amount:h["a"]["allowance"]});case 3:return n=e.sent,t.working=!0,e.next=7,n.wait();case 7:t.working=!1,t.needApprove=!1,e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),t.working=!1,t.popupErrNotification(e.t0.data.message),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))()},popupErrNotification:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.errorNotification=!0,e.errorMessage=t,setTimeout((function(){e.errorNotification=!1}),2e4);case 3:case"end":return n.stop()}}),n)})))()}}),watch:{value:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.loadDialog();case 2:return n.next=4,e.isAllowanceEnough();case 4:e.show=t;case 5:case"end":return n.stop()}}),n)})))()},show:function(t){this.$emit("input",t)}},props:{behavior:{type:String,default:"deposit",required:!0},value:{type:Boolean,default:!1,required:!0},token:{type:String,default:"VNLA",required:!0}}}),p=g,k=n("2877"),b=n("6544"),m=n.n(b),x=n("8336"),_=n("b0af"),y=n("99d9"),A=n("169a"),S=n("ce7e"),O=n("132d"),C=n("0fd9"),j=n("2db4"),$=n("2fa4"),N=n("8654"),V=Object(k["a"])(p,u,v,!1,null,null,null),B=V.exports;m()(V,{VBtn:x["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VDialog:A["a"],VDivider:S["a"],VIcon:O["a"],VRow:C["a"],VSnackbar:j["a"],VSpacer:$["a"],VTextField:N["a"]});var L=o["a"].extend({name:"StakingComponent",components:{Dialog:B},data:function(){return{interval:{},dialog:!1,behavior:"deposit",stakable:!1,token:"",errMessage:"",profitWithdrawable:!1,totalStaked:"0"}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("staking",["getProfit","getStaked"])),Object(d["e"])("staking",["countdown","startBlock"])),Object(d["e"])("erc20",["blockNumber"])),Object(d["e"])("wallet",["chainId"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("staking",["calcCountdown","withdrawVNLAProfit","queryVNLAProfit","queryVNLABalance","getStartBlock","getVNLAMinimalStaking"])),Object(d["b"])("erc20",["balanceOf","getBlockNumber"])),Object(d["d"])("staking",["updateDuration"])),{},{stake:function(t){this.token=t,this.behavior="deposit",this.dialog=!this.dialog},withdraw:function(t){this.token=t,this.behavior="withdraw",this.dialog=!this.dialog},getTotalStaked:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=w["g"],e.next=3,t.balanceOf({contractAddress:h["a"][t.chainId]["VNLA"].address,accountAddress:h["a"]["staking"].address});case 3:e.t1=e.sent,t.totalStaked=(0,e.t0)(e.t1,18);case 5:case"end":return e.stop()}}),e)})))()}}),created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getBlockNumber();case 2:return console.log(t.blockNumber,t.startBlock),t.interval=setInterval((function(){t.updateDuration(),t.queryVNLAProfit()}),1e3),e.next=6,t.getStartBlock();case 6:return e.next=8,t.getVNLAMinimalStaking();case 8:return e.next=10,t.queryVNLABalance();case 10:t.calcCountdown(),t.getTotalStaked().then(console.log,console.error);case 12:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.interval&&clearInterval(this.interval)}}),E=L,I=n("62ad"),T=n("adda"),D=Object(k["a"])(E,r,s,!1,null,"363a3de1",null),R=D.exports;m()(D,{VBtn:x["a"],VCard:_["a"],VCardText:y["c"],VCol:I["a"],VIcon:O["a"],VImg:T["a"],VRow:C["a"]});var q=o["a"].extend({components:{Staking:R}}),F=q,M=Object(k["a"])(F,a,i,!1,null,null,null);e["default"]=M.exports}}]);
//# sourceMappingURL=chunk-05b80535.e20af781.js.map